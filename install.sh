#!/data/data/com.termux/files/usr/bin/bash

# === ЦВЕТА ===
GREEN="\033[1;32m"
RED="\033[1;31m"
BLUE="\033[1;34m"
YELLOW="\033[1;33m"
RESET="\033[0m"

# === ФУНКЦИЯ РАМКИ ===
рамка() {
  echo -e "${СИНИЙ}╔════════════════════════════════════════════╗${СБРОС}"
  echo -e "${СИНИЙ}║ ${ЖЁЛТЫЙ}$1${СБРОС}"
  echo -e "${СИНИЙ}╚════════════════════════════════════════════╝${СБРОС}"
}

# === ФУНКЦИЯ ОШИБКИ ===
ошибка() {
  echo -e "${КРАСНЫЙ}╔════════════════════════════════════════════╗"
  echo -e "║ ❌ ОШИБКА: $1"
  echo -e "╚════════════════════════════════════════════╝${СБРОС}"
}

# === СПИСОК УТИЛИТ С КОММЕНТАРИЯМИ ===
декларация_утилит=(
  "curl       - загрузка с URL"
  "wget       - альтернатива curl"
  "git        - система контроля версий"
  "nano       - простой текстовый редактор"
  "vim        - продвинутый текстовый редактор"
  "unzip      - распаковка zip-архивов"
  "tar        - работа с архивами .tar"
  "zip        - упаковка файлов"
  "tree       - древовидное отображение каталогов"
  "coreutils  - базовые UNIX-команды"
  "htop       - мониторинг процессов"
  "neofetch   - красивая инфа о системе"
  "proot      - изоляция окружения"
  "termux-api - доступ к Android-функциям"
  "openssh    - SSH клиент и сервер"
  "dnsutils   - DNS-инструменты (nslookup и др)"
  "busybox    - набор UNIX-инструментов"
  "inxi       - подробная системная информация"
  "perl       - язык, необходим для inxi"
  "nmap       - сканер портов"
  "netcat     - диагностика сети"
  "whois      - информация о домене"
  "traceroute - маршрут до хоста"
  "python     - язык программирования"
  "python-pip - менеджер пакетов Python"
  "nodejs     - среда выполнения JS"
  "php        - язык PHP"
  "clang      - компилятор C/C++"
  "ruby       - язык Ruby"
  "golang     - язык Go"
  "rust       - язык Rust"
  "figlet     - ASCII-баннеры"
  "toilet     - стильные баннеры"
  "lolcat     - цветной вывод"
  "apt        - менеджер пакетов"
  "pkg        - оболочка над apt"
)

# === СПИСОК ИМЁН ПАКЕТОВ ДЛЯ УСТАНОВКИ ===
утилиты=(
  curl wget git nano vim unzip tar zip tree coreutils
  htop neofetch proot termux-api openssh dnsutils busybox inxi perl
  nmap netcat whois traceroute
  python python-pip nodejs php clang ruby golang rust
  figlet toilet lolcat apt pkg
)

# === ПРЕДВАРИТЕЛЬНЫЙ ВЫВОД УТИЛИТ ===
clear
рамка "🧰 Будут установлены следующие утилиты:"

for строка in "${декларация_утилит[@]}"; do
  echo -e "${ЗЕЛЁНЫЙ}  $строка${СБРОС}"
done

echo
read -p "❓ Продолжить установку? (y/n): " подтверждение
if [[ $подтверждение != "y" && $подтверждение != "Y" ]]; then
  рамка "⛔ Установка отменена пользователем"
  exit 0
fi

# === НАЧАЛО УСТАНОВКИ ===
рамка "🚀 Начинается установка утилит Termux..."

for pkg in "${утилиты[@]}"; do
  рамка "📥 Установка: $pkg"
  if pkg install -y "$pkg"; then
    echo -e "${ЗЕЛЁНЫЙ}✅ Установлено: $pkg${СБРОС}"
  else
    ошибка "Не удалось установить: $pkg"
  fi
done

# === ФИНАЛ ===
рамка "✅ Все утилиты успешно установлены!"
